<!DOCTYPE html>
<html>
<head>
    <title>認証データクリア</title>
</head>
<body>
    <h1>認証データクリアツール</h1>
    <button onclick="clearAuth()">認証データをクリア</button>
    <div id="result"></div>
    
    <script>
        function clearAuth() {
            try {
                // Supabase認証関連のローカルストレージをクリア
                const keys = Object.keys(localStorage);
                const supabaseKeys = keys.filter(key => 
                    key.startsWith('sb-hvxyvrquvszdwmjoycsj-auth-token') ||
                    key.includes('supabase')
                );
                
                supabaseKeys.forEach(key => {
                    localStorage.removeItem(key);
                    console.log('削除:', key);
                });
                
                // セッションストレージもクリア
                const sessionKeys = Object.keys(sessionStorage);
                const supabaseSessionKeys = sessionKeys.filter(key => 
                    key.includes('supabase')
                );
                
                supabaseSessionKeys.forEach(key => {
                    sessionStorage.removeItem(key);
                    console.log('削除（セッション）:', key);
                });
                
                document.getElementById('result').innerHTML = 
                    '<p style="color: green;">認証データをクリアしました。ページをリロードしてください。</p>';
                
                // 3秒後に自動でリロード
                setTimeout(() => {
                    window.location.href = 'http://localhost:3001';
                }, 3000);
                
            } catch (error) {
                document.getElementById('result').innerHTML = 
                    '<p style="color: red;">エラー: ' + error.message + '</p>';
            }
        }
    </script>
</body>
</html>